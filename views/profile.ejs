<!doctype html>
<html>
  <head>
      <title>Cruise Control Management</title>
      <!-- <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
      <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> -->

      <!-- tailwind -->
      <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.css" rel="stylesheet" />

      <link rel="stylesheet" href="style.css">
  </head>
  <body>


    <a href="/logout">
      <div class="text-right mr-8">
        <button type="button"
          class="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900">Logout
        </button>
      </div>
    </a>

   
    <!-- TITLE -->
    <div class="page-header text-center">
        <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white"> Cruise Control Task Management</h1>
    </div>

    <!-- AFFIRMATION -->
    <div class="w-full bg-white border border-gray-400 rounded-lg shadow dark:bg-gray-800 dark:border-gray-900">
      <div class="text-center">
        <h2 id="tabs"
          class="bg-gray-50 border-0 border-b border-gray-200 text-gray-900 text-sm rounded-t-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"> YOU GOT THIS! STAY MOTIVATED! STAY HUNGRY! COMPLETE THE TASK !
        </h2>
      </div>

      <!-- MOOD/FEELINGS ACTION SUCH AS CREATE, FILTER, ETC -->
      <div class="flex items-center justify-between py-4  pl-4 pr-4 bg-white dark:bg-gray-800">
        <div>
          <button type="button" id="create"
            class="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"
            data-modal-target="static-modal" data-modal-toggle="static-modal">Create Tasküìù</button>
        </div>
      
      </div>

      <!-- modal -->
      <div id="static-modal" data-modal-backdrop="static" tabindex="-1" aria-hidden="true"
        class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
        <div class="relative w-full max-w-2xl max-h-full">
          <!-- Modal content -->
          <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
              <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                Task Management Cruise Control
              </h3>
              <button type="button"
                class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                data-modal-hide="static-modal">
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                </svg>
                <span class="sr-only">Close modal</span>
              </button>
            </div>
      
            <!-- Modal body -->
      
            <section class="bg-white dark:bg-gray-900">
              <div class="py-8 px-4 mx-auto max-w-2xl lg:py-16">
      
                <form action="/task" method="POST">
                  <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
      
                    <div>
                      <label for="progress" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select Current Progress</label>
                      <select name="progress" id="progress"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <option>NEW TASKS</option>
                        <option>IN PROGRESS</option>
                        <option>COMPLETED</option>
                      </select>
                    </div>
      
                  
                    <!-- key "name = "id" sent to serve  & added type=hidden to hide it in the DOM -->
                    <input type="hidden" id="creatorId" name="creatorId" value="<%= user._id %>" />
                    <div class="sm:col-span-2">
                      <label for="task" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">ADD NEW/EXISTING TASK</label>
                      <textarea id="task" rows="8"
                        class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
                        name="task" placeholder="1. Complete 3 contracts by Friday for John Smith"></textarea>
                    </div>
      
                  </div>
      
                  <!-- Modal footer -->
                  <div class="flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600">
                    <button data-modal-hide="static-modal" type="submit" id="updatebtn"
                      class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                      CREATE NEW TASK</button>
                  </div>
                </form>
              </div>
            </section>
          </div>
        </div>
      </div>

      <div class=" grid grid-cols-2 md:grid-cols-3 gap-4"> 
        <div class="mb-4 ">
          <h2
            class="flex items-center p-3 text-base font-bold text-gray-900 rounded-lg bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
            TO DO</h2>
        </div>
        <div class="mb-4 ">
          <h2
            class="flex items-center p-3 text-base font-bold text-gray-900 rounded-lg bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
            IN PROGRESS</h2>
        </div>
        <div class="mb-4 ">
          <h2
            class="flex items-center p-3 text-base font-bold text-gray-900 rounded-lg bg-gray-50 hover:bg-gray-100 group hover:shadow dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
            DONE</h2>
        </div>
      </div>

      <div class=" grid grid-cols-2 md:grid-cols-3 gap-4">


        <div class="todo">
          <% for(var i=0; i<tasks.length; i++) { %>
            
              
                <% if(tasks[i].progress==='NEW TASKS' ) { %>
                  <div class=" flex items-center justify-center pb-4">
                    <div
                      class=" mt-8 w-full max-w-sm pt-0 p-4 bg-white border border-gray-200 rounded-lg shadow  dark:bg-gray-800 dark:border-gray-700">
                      <ul role="list" class="space-y-5 my-7">
                        <li class="flex items-center">
                          <svg class="flex-shrink-0 w-4 h-4  mr-2 text-blue-600 dark:text-blue-500" aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                            <path
                              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
                          </svg>
                          <span class="text-base font-normal leading-tight text-gray-500 dark:text-gray-400 ms-3">
                            <%= tasks[i].task %>
                          </span>
                        </li>
                      </ul>
                
                
                      <div class=" grid grid-cols-2 md:grid-cols-3 gap-4" id="<%= tasks[i]._id %>">

                
                        <button type="button"
                          class="move mr-1 text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-200 dark:focus:ring-blue-900 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex justify-center w-full text-center">
                          PROGRESS</button>
                
                        <button type="button"
                          class="move text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-200 dark:focus:ring-blue-900 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex justify-center w-full text-center">
                          DONE </button>

                        <button type="button"
                          class="trash text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2  dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900">
                          DELETE</button>
                      </div>
                
                    </div>
                  </div>
                <% } %>
              

          <% } %>
        </div>

      
        <div class="progress">
          <% for(var i=0; i<tasks.length; i++) { %>
          
              <% if(tasks[i].progress ==='IN PROGRESS') { %>
                <div class=" flex items-center justify-center pb-4">
                  <div
                    class=" mt-8 w-full max-w-sm pt-0 p-4 bg-white border border-gray-200 rounded-lg shadow  dark:bg-gray-800 dark:border-gray-700">
                    <ul role="list" class="space-y-5 my-7">
                      <li class="flex items-center">
                        <svg class="flex-shrink-0 w-4 h-4  mr-2 text-blue-600 dark:text-blue-500" aria-hidden="true"
                          xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                          <path
                            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
                        </svg>
                        <span class="text-base font-normal leading-tight text-gray-500 dark:text-gray-400 ms-3">
                          <%= tasks[i].task %>
                        </span>
                      </li>
                    </ul>
            
            
                    <div class=" grid grid-cols-2 md:grid-cols-3 gap-4" id="<%= tasks[i]._id %>">
            
                      <button type="button"
                        class="move mr-1 text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-200 dark:focus:ring-blue-900 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex justify-center w-full text-center">
                        TO DO</button>
            
                      <button type="button"
                        class="move text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-200 dark:focus:ring-blue-900 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex justify-center w-full text-center">
                        DONE </button>

                      <button  type="button"
                        class=" trash text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900">
                        DELETE</button>
                    </div>
            
                  </div>
                </div>
              <% } %>
          
          <% } %>
        </div>

        <div class="done">
          <% for(var i=0; i<tasks.length; i++) { %>
      
          
              <%  if(tasks[i].progress ==='COMPLETED') { %>
                <div class=" flex items-center justify-center pb-4">
                  <div
                    class=" mt-8 w-full max-w-sm pt-0 p-4 bg-white border border-gray-200 rounded-lg shadow  dark:bg-gray-800 dark:border-gray-700">
                    <ul role="list" class="space-y-5 my-7">
                      <li class="flex items-center">
                        <svg class="flex-shrink-0 w-4 h-4  mr-2 text-blue-600 dark:text-blue-500" aria-hidden="true"
                          xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                          <path
                            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
                        </svg>
                        <span class="text-base font-normal leading-tight text-gray-500 dark:text-gray-400 ms-3">
                          <%= tasks[i].task %>
                        </span>
                      </li>
                    </ul>
                
                
                    <div class=" grid grid-cols-2 md:grid-cols-3 gap-4" id="<%= tasks[i]._id %>">
                      <button type="button"
                        class="move mr-1 text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-200 dark:focus:ring-blue-900 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex justify-center w-full text-center">
                        TO DO</button>
                
                      <button type="button"
                        class="move mr-1 text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-200 dark:focus:ring-blue-900 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex justify-center w-full text-center">
                        PROGRESS</button>
                
                      <button  type="button"
                        class="trash text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900">
                        DELETE</button>
                    </div>
                
                  </div>
                </div>
              <% } %>
          
          <% } %>
        </div>
    

              
   

      </div>

    </div>

  <!-- tailwind -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.js"></script>

  <script src="main.js"></script>



  </body>
</html>
